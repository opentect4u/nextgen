"use strict";(self.webpackChunkdemoecomm=self.webpackChunkdemoecomm||[]).push([[2318],{3041:(e,l,a)=>{a.d(l,{O:()=>n});const n="https://apinextgen.opentech4u.co.in:8001"},8834:(e,l,a)=>{a.d(l,{A:()=>r});a(5043);var n=a(579);const r=function(e){let{onReset:l,mode:a}=e;return(0,n.jsxs)("div",{className:"flex justify-center",children:["A"==a&&(0,n.jsx)("button",{type:"submit",className:"inline-flex items-center px-5 py-2.5 mt-4 mr-2 sm:mt-6 text-sm font-medium text-center text-green-800 border border-green-800 bg-white hover:duration-500 hover:scale-110  rounded-full focus:ring-gray-600 hover:border-gray-600 hover:text-gray-600  dark:focus:ring-primary-900 ",onClick:l,children:"Reset"}),(0,n.jsx)("button",{type:"submit",className:" disabled:bg-gray-400 disabled:dark:bg-gray-400 inline-flex items-center px-5 py-2.5 mt-4 sm:mt-6 text-sm font-medium text-center text-white bg-green-800 hover:duration-500 hover:scale-110  rounded-full focus:ring-gray-600  dark:focus:ring-primary-900 hover:bg-gray-600 dark:bg-[#22543d] dark:hover:bg-gray-600",children:"Submit"})]})}},2141:(e,l,a)=>{a.d(l,{A:()=>r});a(5043);var n=a(579);const r=function(e){let{text:l}=e;return(0,n.jsx)("h2",{className:"mb-4 text-xl font-bold text-[#22543d]  dark:text-gray-400 ",children:l})}},8366:(e,l,a)=>{a.d(l,{Q:()=>r});a(5043);var n=a(2019);const r=(e,l)=>{n.Ay.open({type:e,content:l})}},3731:(e,l,a)=>{a.d(l,{A:()=>o});var n=a(5043),r=a(579);const o=function(e){var l;const[a,o]=(0,n.useState)(null);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("label",{className:"block mb-2 text-sm font-medium text-gray-800 dark:text-gray-100",children:[" ",e.label]}),1==e.mode&&(0,r.jsx)("input",{type:e.type,name:e.name,value:e.formControlName,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg  focus:border-green-900 active:border-green-900 focus:ring-green-900 focus:border-1 duration-300 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:e.placeholder,onChange:e.handleChange,onBlur:e.handleBlur}),2==e.mode&&(0,r.jsxs)("select",{id:"countries",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg  focus:border-green-900 active:border-green-900 focus:ring-green-900 focus:border-1 duration-300 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",value:e.formControlName,onChange:e.handleChange,name:e.name,placeholder:e.placeholder,options:null===e||void 0===e?void 0:e.data,onBlur:e.handleBlur,children:[(0,r.jsx)("option",{selected:!0,children:e.placeholder}),null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.map(((e,l)=>(0,r.jsx)("option",{value:e.code,children:e.name})))]}),3==e.mode&&(0,r.jsx)("textarea",{rows:"8",className:"block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:border-green-900 active:border-green-900 focus:ring-green-900 focus:border-1 duration-300 focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",name:e.name,value:e.formControlName,placeholder:e.placeholder,onChange:e.handleChange,onBlur:e.handleBlur})]})}},9657:(e,l,a)=>{a.d(l,{A:()=>o});a(5043);var n=a(2261),r=a(579);const o=function(e){let{title:l}=e;return(0,r.jsx)(n.A,{message:l,type:"error",showIcon:!0,className:"my-2"})}},2318:(e,l,a)=>{a.r(l),a.d(l,{default:()=>N});var n=a(5043),r=a(3216),o=a(8834),d=a(2141),t=a(3731),s=a(3892),i=a(899),c=a(9657),m=a(8168);const h={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"minus-circle",theme:"outlined"};var u=a(2172),p=function(e,l){return n.createElement(u.A,(0,m.A)({},e,{ref:l,icon:h}))};const g=n.forwardRef(p);var v=a(5337),_=a(8223),x=a(3041),y=a(8366),f=a(164),j=a(1686),C=a(6213),b=a(579);const N=function(){const[e,l]=(0,n.useState)(!1),a=(0,r.g)();console.log(a,"params");const m={clnt_name:"",clnt_email:"",clnt_phn:"",clnt_loc:"",delvry_add:"",gst:"",pan:"",reg_no:"",dynamicFields:[{poc_name:"",poc_designation:"",poc_department:"",poc_email:"",poc_direct_no:"",poc_ext_no:"",poc_ph_1:"",poc_ph_2:""}]},[h,u]=(0,n.useState)(m);(0,n.useEffect)((()=>{+a.id>0&&(l(!0),C.A.post(x.O+"/api/getclient",{id:a.id}).then((e=>{var a,n,r,o,d,t,s,i;console.log(e.data,"getclient show"),l(!1),u({clnt_name:null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.msg.client_name,clnt_email:null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.msg.client_email,clnt_phn:null===e||void 0===e||null===(r=e.data)||void 0===r?void 0:r.msg.client_phone,clnt_loc:null===e||void 0===e||null===(o=e.data)||void 0===o?void 0:o.msg.client_location,delvry_add:null===e||void 0===e||null===(d=e.data)||void 0===d?void 0:d.msg.client_address,gst:null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.msg.client_gst,pan:null===e||void 0===e||null===(s=e.data)||void 0===s?void 0:s.msg.client_pan,reg_no:null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.msg.client_reg})})))}),[]);const p=e=>{l(!0),console.log(e),C.A.post(x.O+"/api/addclient",{c_id:+a.id,user:localStorage.getItem("email"),c_name:e.clnt_name,c_phone:e.clnt_phn.toString(),c_email:e.clnt_email,c_location:e.clnt_loc,c_address:e.delvry_add,c_gst:e.gst,c_pan:e.pan,c_reg:e.reg_no,c_poc:e.dynamicFields}).then((e=>{l(!1),console.log(e,"client add"),e.data.suc>0?((0,y.Q)("success",e.data.msg),0==a.id&&A.handleReset()):(0,y.Q)("error",e.data.msg)}))},N=i.Ik({clnt_name:i.Yj().required("Client's name is required"),clnt_email:i.Yj().required("Client's email is required"),clnt_phn:i.Yj().required("Client's phone no. is required"),clnt_loc:i.Yj().required("Client location is required"),delvry_add:i.Yj().required("Delivery address is required"),gst:i.Yj().required("GST is required"),pan:i.Yj().required("PAN is required"),reg_no:i.Yj().required("Registration no. is required"),dynamicFields:i.YO().of(i.Ik().shape({poc_name:i.Yj().optional(),poc_designation:i.Yj().optional(),poc_department:i.Yj().optional(),poc_email:i.Yj().optional(),poc_direct_no:i.Yj().optional(),poc_ext_no:i.Yj().optional(),poc_ph_1:i.Yj().optional(),poc_ph_2:i.Yj().optional()}))}),A=(0,s.Wx)({initialValues:m,onSubmit:p,validationSchema:N,validateOnMount:!0});return(0,b.jsx)("section",{className:"bg-white dark:bg-[#001529]",children:(0,b.jsxs)("div",{className:"py-8 mx-auto w-5/6 lg:py-16",children:[(0,b.jsx)(d.A,{text:a.id>0?"Update client":"Add client"}),(0,b.jsx)(j.A,{indicator:(0,b.jsx)(f.A,{spin:!0}),size:"large",className:"text-green-900 dark:text-gray-400",spinning:e,children:(0,b.jsx)(s.l1,{initialValues:m,validationSchema:N,onSubmit:p,validateOnMount:!0,children:e=>(0,b.jsxs)("form",{onSubmit:e.handleSubmit,children:[(0,b.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2 sm:gap-6",children:[(0,b.jsxs)("div",{className:"sm:col-span-2",children:[(0,b.jsx)(t.A,{placeholder:"Type user name...",type:"text",label:"Client name",name:"clnt_name",formControlName:e.values.clnt_name,handleChange:e.handleChange,handleBlur:e.handleBlur,mode:1}),e.errors.clnt_name&&e.touched.clnt_name?(0,b.jsx)(c.A,{title:e.errors.clnt_name}):null]}),(0,b.jsxs)("div",{className:"w-full",children:[(0,b.jsx)(t.A,{placeholder:"Type client's email...",type:"text",label:"Email",name:"clnt_email",formControlName:e.values.clnt_email,handleChange:e.handleChange,handleBlur:e.handleBlur,mode:1}),e.errors.clnt_email&&e.touched.clnt_email?(0,b.jsx)(c.A,{title:e.errors.clnt_email}):null]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(t.A,{placeholder:"+91 123-456-7890",type:"number",label:"Phone No.",name:"clnt_phn",formControlName:e.values.clnt_phn,handleChange:e.handleChange,handleBlur:e.handleBlur,mode:1}),e.errors.clnt_phn&&e.touched.clnt_phn?(0,b.jsx)(c.A,{title:e.errors.clnt_phn}):null]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(t.A,{placeholder:"Type Client Location...",type:"text",label:"Client Location",name:"clnt_loc",formControlName:e.values.clnt_loc,handleChange:e.handleChange,handleBlur:e.handleBlur,mode:3}),e.errors.clnt_loc&&e.touched.clnt_loc?(0,b.jsx)(c.A,{title:e.errors.clnt_loc}):null]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(t.A,{placeholder:"Type Delivery Address...",type:"text",label:"Delivery Address",name:"delvry_add",formControlName:e.values.delvry_add,handleChange:e.handleChange,handleBlur:e.handleBlur,mode:3}),e.errors.delvry_add&&e.touched.delvry_add?(0,b.jsx)(c.A,{title:e.errors.delvry_add}):null]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(t.A,{placeholder:"Type GST",type:"text",label:"GST",name:"gst",formControlName:e.values.gst,handleChange:e.handleChange,handleBlur:e.handleBlur,mode:1}),e.errors.gst&&e.touched.gst?(0,b.jsx)(c.A,{title:e.errors.gst}):null]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(t.A,{placeholder:"Type PAN",type:"text",label:"PAN",name:"pan",formControlName:e.values.pan,handleChange:e.handleChange,handleBlur:e.handleBlur,mode:1}),e.errors.pan&&e.touched.pan?(0,b.jsx)(c.A,{title:e.errors.pan}):null]}),(0,b.jsxs)("div",{className:"w-full",children:[(0,b.jsx)(t.A,{placeholder:"Type Reg No.",type:"text",label:"Reg No.",name:"reg_no",formControlName:e.values.reg_no,handleChange:e.handleChange,handleBlur:e.handleBlur,mode:1}),e.errors.reg_no&&e.touched.reg_no?(0,b.jsx)(c.A,{title:e.errors.reg_no}):null]}),(0,b.jsx)(s.ED,{name:"dynamicFields",children:l=>{let{push:a,remove:r}=l;return(0,b.jsxs)(b.Fragment,{children:[e.values.dynamicFields.map(((l,a)=>{var o,d,s,i,c,m,h,u;return(0,b.jsxs)(n.Fragment,{children:[(0,b.jsx)("div",{className:"w-full sm:col-span-2",children:(0,b.jsx)(t.A,{placeholder:"Type the name of Contact Person...",type:"text",label:"Contact Person",name:"dynamicFields[".concat(a,"].poc_name"),formControlName:(null===(o=e.values.dynamicFields[a])||void 0===o?void 0:o.poc_name)||"",handleChange:e.handleChange,handleBlur:e.handleBlur,mode:1})}),(0,b.jsx)("div",{className:"w-full sm:col-span-2",children:(0,b.jsx)(t.A,{placeholder:"Type POC Designation...",type:"text",label:"POC Designation",name:"dynamicFields[".concat(a,"].poc_designation"),formControlName:(null===(d=e.values.dynamicFields[a])||void 0===d?void 0:d.poc_designation)||"",handleChange:e.handleChange,handleBlur:e.handleBlur,mode:1})}),(0,b.jsx)("div",{className:"w-full sm:col-span-2",children:(0,b.jsx)(t.A,{placeholder:"Type POC department...",type:"text",label:"POC Department",name:"dynamicFields[".concat(a,"].poc_department"),formControlName:(null===(s=e.values.dynamicFields[a])||void 0===s?void 0:s.poc_department)||"",handleChange:e.handleChange,handleBlur:e.handleBlur,mode:1})}),(0,b.jsx)("div",{className:"w-full sm:col-span-2",children:(0,b.jsx)(t.A,{placeholder:"Type POC Email...",type:"text",label:"POC Email",name:"dynamicFields[".concat(a,"].poc_email"),formControlName:(null===(i=e.values.dynamicFields[a])||void 0===i?void 0:i.poc_email)||"",handleChange:e.handleChange,handleBlur:e.handleBlur,mode:1})}),(0,b.jsx)("div",{className:"w-full sm:col-span-2",children:(0,b.jsx)(t.A,{placeholder:"Type POC Direct No.",type:"text",label:"POC Direct No",name:"dynamicFields[".concat(a,"].poc_direct_no"),formControlName:(null===(c=e.values.dynamicFields[a])||void 0===c?void 0:c.poc_direct_no)||"",handleChange:e.handleChange,handleBlur:e.handleBlur,mode:1})}),(0,b.jsx)("div",{className:"w-full sm:col-span-2",children:(0,b.jsx)(t.A,{placeholder:"Type POC Extension No.",type:"text",label:"POC Extension No",name:"dynamicFields[".concat(a,"].poc_ext_no"),formControlName:(null===(m=e.values.dynamicFields[a])||void 0===m?void 0:m.poc_ext_no)||"",handleChange:e.handleChange,handleBlur:e.handleBlur,mode:1})}),(0,b.jsx)("div",{className:"w-full sm:col-span-2",children:(0,b.jsx)(t.A,{placeholder:"Type POC Primary Phone No.",type:"text",label:"POC Primary Phone No.",name:"dynamicFields[".concat(a,"].poc_ph_1"),formControlName:(null===(h=e.values.dynamicFields[a])||void 0===h?void 0:h.poc_ph_1)||"",handleChange:e.handleChange,handleBlur:e.handleBlur,mode:1})}),(0,b.jsx)("div",{className:"w-full sm:col-span-2",children:(0,b.jsx)(t.A,{placeholder:"Type POC Secondary Phone No.",type:"text",label:"POC Secondary Phone No.",name:"dynamicFields[".concat(a,"].poc_ph_2"),formControlName:(null===(u=e.values.dynamicFields[a])||void 0===u?void 0:u.poc_ph_2)||"",handleChange:e.handleChange,handleBlur:e.handleBlur,mode:1})}),(0,b.jsx)("div",{className:"sm:col-span-2",children:(0,b.jsx)(g,{onClick:()=>r(a)})})]},a)})),(0,b.jsx)("div",{className:"sm:col-span-2",children:(0,b.jsx)(_.Ay,{type:"dashed",onClick:()=>a({poc_name:"",poc_designation:"",poc_department:"",poc_email:"",poc_direct_no:"",poc_ext_no:"",poc_ph_1:"",poc_ph_2:""}),icon:(0,b.jsx)(v.A,{}),children:"Add field"})})]})}})]}),(0,b.jsx)(o.A,{})]})})})]})})}},5337:(e,l,a)=>{a.d(l,{A:()=>s});var n=a(8168),r=a(5043);const o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"};var d=a(2172),t=function(e,l){return r.createElement(d.A,(0,n.A)({},e,{ref:l,icon:o}))};const s=r.forwardRef(t)}}]);
//# sourceMappingURL=2318.04cdb0a4.chunk.js.map